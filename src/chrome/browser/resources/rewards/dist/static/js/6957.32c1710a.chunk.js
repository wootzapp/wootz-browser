"use strict";(self.webpackChunkrewards=self.webpackChunkrewards||[]).push([[6957],{6957:(e,a,t)=>{t.d(a,{autoConnectInjectedWallet:()=>w,connectInjectedWallet:()=>m});var n=t(90228),s=t(9893),r=t(83423),c=t(3340),o=t(49026),i=t(55881),d=t(2018),h=t(93300);function u(e){const a=(0,d.injectedProvider)(e);if(!a)throw new Error(`No injected provider found for wallet: "${e}"`);return a}async function m(e,a,t){const n=u(e),c=(await n.request({method:"eth_requestAccounts"}))[0];if(!c)throw new Error("no accounts available");const o=(0,r.bv)(c),d=await n.request({method:"eth_chainId"}).then(i.A);let h=a.chain&&a.chain.id===d?a.chain:(0,s.Q4)(d);return a.chain&&a.chain.id!==d&&(await y(n,a.chain),h=a.chain),p(n,o,h,t)}async function w(e,a,t){const n=u(e),c=(await n.request({method:"eth_accounts"}))[0];if(!c)throw new Error("no accounts available");const o=(0,r.bv)(c),d=await n.request({method:"eth_chainId"}).then(i.A);return p(n,o,t&&t.id===d?t:(0,s.Q4)(d),a)}function l(e,a){const t={address:(0,r.bv)(a),async sendTransaction(a){return{transactionHash:await e.request({method:"eth_sendTransaction",params:[{accessList:a.accessList,value:a.value?(0,c.cK)(a.value):void 0,gas:a.gas?(0,c.cK)(a.gas):void 0,from:this.address,to:a.to,data:a.data}]})}},async signMessage(a){let{message:n}=a;if(!t.address)throw new Error("Provider not setup");const s="string"===typeof n?(0,c.i3)(n):n.raw instanceof Uint8Array?(0,c.EY)(n.raw):n.raw;return await e.request({method:"personal_sign",params:[s,t.address]})},async signTypedData(a){if(!e||!t.address)throw new Error("Provider not setup");const s=(0,h.y)(a),{domain:r,message:c,primaryType:o}=s,i={EIP712Domain:(0,n.H4)({domain:r}),...s.types};(0,n.$$)({domain:r,message:c,primaryType:o,types:i});const d=(0,n.v8)({domain:r??{},message:c,primaryType:o,types:i});return await e.request({method:"eth_signTypedData_v4",params:[t.address,d]})},watchAsset:async a=>await e.request({method:"wallet_watchAsset",params:a},{retryCount:0})};return t}async function p(e,a,t,n){const c=l(e,a);async function o(){!async function(){e.removeListener("accountsChanged",d),e.removeListener("chainChanged",h),e.removeListener("disconnect",o)}(),n.emit("disconnect",void 0)}function d(a){if(a[0]){const t=l(e,(0,r.bv)(a[0]));n.emit("accountChanged",t),n.emit("accountsChanged",a)}else o()}function h(e){const a=(0,s.Q4)((0,i.A)(e));n.emit("chainChanged",a)}return e.on&&(e.on("accountsChanged",d),e.on("chainChanged",h),e.on("disconnect",o)),[c,t,o,a=>y(e,a)]}async function y(e,a){const t=(0,c.cK)(a.id);try{await e.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(n){if(4902!==n?.code&&4902!==n?.data?.originalError?.code)throw n;{const n=await(0,s.PB)(a);await e.request({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:n.name,nativeCurrency:n.nativeCurrency,rpcUrls:(0,o.k)(n),blockExplorerUrls:n.explorers?.map((e=>e.url))}]})}}}}}]);
//# sourceMappingURL=6957.32c1710a.chunk.js.map