"use strict";(self.webpackChunkrewards=self.webpackChunkrewards||[]).push([[94052],{94052:(e,n,a)=>{a.d(n,{onSessionProposal:()=>o});var s=a(55943),i=a(21225);async function o(e){const{wallet:n,walletConnectClient:a,event:o,chains:t,onConnect:c}=e,r=n.getAccount();if(!r)throw new Error("No account connected to provided wallet");const p=o.verifyContext?.verified?.origin;p&&await async function(e){let{walletConnectClient:n,origin:a}=e;const o=await(0,i.S5)();for(const i of o)i.origin===a&&await(0,s.EF)({session:i,walletConnectClient:n})}({origin:p,walletConnectClient:a});const l=await async function(e){let{account:n,walletConnectClient:a,sessionProposal:s,chains:i}=e;if(!s.params.requiredNamespaces?.eip155&&!s.params.optionalNamespaces?.eip155)throw new Error("No EIP155 namespace found in Wallet Connect session proposal");const o={chains:[...Array.from(new Set([...s.params.requiredNamespaces?.eip155?.chains?.map((e=>`${e}:${n.address}`))??[],...s.params.optionalNamespaces?.eip155?.chains?.map((e=>`${e}:${n.address}`))??[],...i?.map((e=>`eip155:${e.id}:${n.address}`))??[]]))],methods:[...s.params.requiredNamespaces?.eip155?.methods??[],...s.params.optionalNamespaces?.eip155?.methods??[]],events:[...s.params.requiredNamespaces?.eip155?.events??[],...s.params.optionalNamespaces?.eip155?.events??[]]},t=await a.approve({id:s.id,namespaces:{eip155:{accounts:o.chains,methods:o.methods,events:o.events}}}),c=await t.acknowledged();return{topic:c.topic,origin:s.verifyContext?.verified?.origin||"Unknown origin"}}({account:r,walletConnectClient:a,sessionProposal:o,chains:t});await(0,i.E1)(l),n.subscribe("disconnect",(()=>{(0,s.EF)({session:l,walletConnectClient:a})})),c?.(l)}}}]);
//# sourceMappingURL=94052.9493a1c1.chunk.js.map