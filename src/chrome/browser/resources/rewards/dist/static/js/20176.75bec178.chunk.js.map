{"version":3,"file":"static/js/20176.75bec178.chunk.js","mappings":"yJAKOA,eAAeC,EACpBC,EACAC,EACAC,EACAC,GAEA,MAEMC,QAAYC,EAAAA,EAAAA,IAAeL,EAAfK,CAChB,YAAWC,EAAAA,EAAAA,MAAqBC,sBAChC,CACEC,OAAQ,OACRC,QAAS,C,EAITC,KAAMT,IAIV,IAAKG,EAAIO,GAAI,CAEX,GADAP,EAAIM,MAAME,SACS,MAAfR,EAAIS,OACN,MAAM,IAAIC,MACR,iEAGJ,GAAmB,MAAfV,EAAIS,OACN,MAAM,IAAIC,MACR,yGAGJ,GAAmB,MAAfV,EAAIS,OACN,MAAM,IAAIC,MACR,8DAGJ,MAAM,IAAIA,MACR,oCAAoCV,EAAIS,YAAYT,EAAIW,aAE5D,CAEA,MAEMC,SAFaZ,EAAIa,QAENC,SACjB,IAAKF,EACH,MAAM,IAAIF,MAAM,4CAGlB,OAAIX,GAASgB,uBACJ,CAAC,UAAUH,KAEbd,EAAUkB,KAAKC,GAAS,UAAUL,KAAOK,KAClD,C","sources":["../node_modules/thirdweb/src/storage/upload/web-node.ts"],"sourcesContent":["import type { ThirdwebClient } from \"../../client/client.js\";\nimport { getThirdwebDomains } from \"../../utils/domains.js\";\nimport { getClientFetch } from \"../../utils/fetch.js\";\nimport type { UploadOptions, UploadableFile } from \"./types.js\";\n\nexport async function uploadBatch<const TFiles extends UploadableFile[]>(\n  client: ThirdwebClient,\n  form: FormData,\n  fileNames: string[],\n  options?: UploadOptions<TFiles>,\n) {\n  const headers: HeadersInit = {};\n\n  const res = await getClientFetch(client)(\n    `https://${getThirdwebDomains().storage}/ipfs/upload`,\n    {\n      method: \"POST\",\n      headers: {\n        ...headers,\n        // ...form.getHeaders(),\n      },\n      body: form,\n    },\n  );\n\n  if (!res.ok) {\n    res.body?.cancel();\n    if (res.status === 401) {\n      throw new Error(\n        \"Unauthorized - You don't have permission to use this service.\",\n      );\n    }\n    if (res.status === 402) {\n      throw new Error(\n        \"You have reached your storage limit. Please add a valid payment method to continue using the service.\",\n      );\n    }\n    if (res.status === 403) {\n      throw new Error(\n        \"Forbidden - You don't have permission to use this service.\",\n      );\n    }\n    throw new Error(\n      `Failed to upload files to IPFS - ${res.status} - ${res.statusText}`,\n    );\n  }\n\n  const body = await res.json();\n\n  const cid = body.IpfsHash;\n  if (!cid) {\n    throw new Error(\"Failed to upload files to IPFS - Bad CID\");\n  }\n\n  if (options?.uploadWithoutDirectory) {\n    return [`ipfs://${cid}`];\n  }\n  return fileNames.map((name) => `ipfs://${cid}/${name}`);\n}\n"],"names":["async","uploadBatch","client","form","fileNames","options","res","getClientFetch","getThirdwebDomains","storage","method","headers","body","ok","cancel","status","Error","statusText","cid","json","IpfsHash","uploadWithoutDirectory","map","name"],"sourceRoot":""}