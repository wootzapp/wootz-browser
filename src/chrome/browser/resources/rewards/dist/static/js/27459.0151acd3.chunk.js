"use strict";(self.webpackChunkrewards=self.webpackChunkrewards||[]).push([[27459,31512],{70844:(e,t,n)=>{n.d(t,{W:()=>u});var r=n(70579),i=n(73310),o=n(50503),a=n(4230),l=n(14494),s=n(34153),c=n(46025);function u(e){return(0,r.jsxs)(l.mc,{animate:"fadein",children:[(0,r.jsx)(a.h,{y:"xxl"}),(0,r.jsx)(l.mc,{flex:"row",center:"x",children:(0,r.jsx)(o.g,{size:i.RK["3xl"]})}),(0,r.jsx)(a.h,{y:"lg"}),(0,r.jsx)(c.E,{center:!0,color:"primaryText",size:"md",children:e.title}),(0,r.jsx)(a.h,{y:"xl"}),(0,r.jsx)(a.h,{y:"xxl"}),(0,r.jsx)(s.$n,{variant:"accent",fullWidth:!0,onClick:e.onTryAgain,children:"Try Again"})]})}},27238:(e,t,n)=>{n.d(t,{G:()=>s});var r=n(70579),i=n(4230),o=n(5961),a=n(14494),l=n(46025);function s(e){return(0,r.jsxs)(a.mc,{animate:"fadein",children:[(0,r.jsx)(i.h,{y:"xxl"}),(0,r.jsxs)(a.mc,{flex:"row",center:"x",style:{position:"relative"},children:[(0,r.jsx)(o.y,{size:"4xl",color:"accentText"}),(0,r.jsx)(a.mc,{color:"accentText",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:e.icon})]}),(0,r.jsx)(i.h,{y:"xl"}),(0,r.jsx)(l.E,{center:!0,color:"primaryText",size:"lg",children:e.title}),(0,r.jsx)(i.h,{y:"md"}),(0,r.jsx)(l.E,{multiline:!0,center:!0,children:e.subtitle}),(0,r.jsx)(i.h,{y:"xxl"}),(0,r.jsx)(i.h,{y:"xxl"})]})}},80363:(e,t,n)=>{n.d(t,{$:()=>F});var r=n(70579),i=n(65043),o=n(22318),a=n(81270),l=n(23102),s=n(31512),c=n(56703),u=n(73310),d=n(74394),p=n(83609),h=n(58911);const x=(0,h.jx)({animation:`${p.I0} 0.15s ease-in`});var m=n(83290),g=Object.defineProperty,f=Object.defineProperties,y=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C="^\\d+$";var b=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");var E=i.createContext({}),S=i.forwardRef(((e,t)=>{var n,r,o,a,l,s=e,{value:c,onChange:u,maxLength:d,textAlign:p="left",pattern:h=C,inputMode:x="numeric",onComplete:m,pushPasswordManagerStrategy:g="increase-width",containerClassName:S,noScriptCSSFallback:A=P,render:I,children:M}=s,T=((e,t)=>{var n={};for(var r in e)v.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&j)for(var r of j(e))t.indexOf(r)<0&&w.call(e,r)&&(n[r]=e[r]);return n})(s,["value","onChange","maxLength","textAlign","pattern","inputMode","onComplete","pushPasswordManagerStrategy","containerClassName","noScriptCSSFallback","render","children"]);let[W,R]=i.useState("string"==typeof T.defaultValue?T.defaultValue:""),O=null!=c?c:W,D=function(e){let t=i.useRef();return i.useEffect((()=>{t.current=e})),t.current}(O),z=i.useCallback((e=>{null==u||u(e),R(e)}),[u]),B=i.useMemo((()=>h?"string"==typeof h?new RegExp(h):h:null),[h]),_=i.useRef(null),F=i.useRef(null),$=i.useRef({value:O,onChange:z,isIOS:"undefined"!=typeof window&&(null==(r=null==(n=null==window?void 0:window.CSS)?void 0:n.supports)?void 0:r.call(n,"-webkit-touch-callout","none"))}),N=i.useRef({prev:[null==(o=_.current)?void 0:o.selectionStart,null==(a=_.current)?void 0:a.selectionEnd,null==(l=_.current)?void 0:l.selectionDirection]});i.useImperativeHandle(t,(()=>_.current),[]),i.useEffect((()=>{let e=_.current,t=F.current;if(!e||!t)return;function n(){if(document.activeElement!==e)return Y(null),void q(null);let t,n=e.selectionStart,r=e.selectionEnd,i=e.selectionDirection,o=e.maxLength,a=e.value,l=N.current.prev,s=-1,c=-1;if(0!==a.length&&null!==n&&null!==r){let e=n===r,i=n===a.length&&a.length<o;if(e&&!i){let e=n;if(0===e)s=0,c=1,t="forward";else if(e===o)s=e-1,c=e,t="backward";else if(o>1&&a.length>1){let n=0;if(null!==l[0]&&null!==l[1]){t=e<l[1]?"backward":"forward";let r=l[0]===l[1]&&l[0]<o;"backward"===t&&!r&&(n=-1)}s=n+e,c=n+e+1}}-1!==s&&-1!==c&&s!==c&&_.current.setSelectionRange(s,c,t)}let u=-1!==s?s:n,d=-1!==c?c:r,p=null!=t?t:i;Y(u),q(d),N.current.prev=[u,d,p]}if($.current.value!==e.value&&$.current.onChange(e.value),N.current.prev=[e.selectionStart,e.selectionEnd,e.selectionDirection],document.addEventListener("selectionchange",n,{capture:!0}),n(),document.activeElement===e&&U(!0),!document.getElementById("input-otp-style")){let e=document.createElement("style");if(e.id="input-otp-style",document.head.appendChild(e),e.sheet){let t="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";L(e.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),L(e.sheet,`[data-input-otp]:autofill { ${t} }`),L(e.sheet,`[data-input-otp]:-webkit-autofill { ${t} }`),L(e.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),L(e.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let r=()=>{t&&t.style.setProperty("--root-height",`${e.clientHeight}px`)};r();let i=new ResizeObserver(r);return i.observe(e),()=>{document.removeEventListener("selectionchange",n,{capture:!0}),i.disconnect()}}),[]);let[H,G]=i.useState(!1),[Q,U]=i.useState(!1),[V,Y]=i.useState(null),[K,q]=i.useState(null);i.useEffect((()=>{!function(e){setTimeout(e,0),setTimeout(e,10),setTimeout(e,50)}((()=>{var e,t,n,r;null==(e=_.current)||e.dispatchEvent(new Event("input"));let i=null==(t=_.current)?void 0:t.selectionStart,o=null==(n=_.current)?void 0:n.selectionEnd,a=null==(r=_.current)?void 0:r.selectionDirection;null!==i&&null!==o&&(Y(i),q(o),N.current.prev=[i,o,a])}))}),[O,Q]),i.useEffect((()=>{void 0!==D&&O!==D&&D.length<d&&O.length===d&&(null==m||m(O))}),[d,m,D,O]);let J=function(e){let{containerRef:t,inputRef:n,pushPasswordManagerStrategy:r,isFocused:o}=e,a=i.useRef({done:!1,refocused:!1}),[l,s]=i.useState(!1),[c,u]=i.useState(!1),[d,p]=i.useState(!1),h=i.useMemo((()=>"none"!==r&&("increase-width"===r||"experimental-no-flickering"===r)&&l&&c),[l,c,r]),x=i.useCallback((()=>{let e=t.current,i=n.current;if(!e||!i||d||"none"===r)return;let o=e,l=o.getBoundingClientRect().left+o.offsetWidth-18,c=o.getBoundingClientRect().top+o.offsetHeight/2;if((0!==document.querySelectorAll(b).length||document.elementFromPoint(l,c)!==e)&&(s(!0),p(!0),!a.current.refocused&&document.activeElement===i)){let e=[i.selectionStart,i.selectionEnd];i.blur(),i.focus(),i.setSelectionRange(e[0],e[1]),a.current.refocused=!0}}),[t,n,d,r]);return i.useEffect((()=>{let e=t.current;if(!e||"none"===r)return;function n(){let t=window.innerWidth-e.getBoundingClientRect().right;u(t>=40)}n();let i=setInterval(n,1e3);return()=>{clearInterval(i)}}),[t,r]),i.useEffect((()=>{let e=o||document.activeElement===n.current;if("none"===r||!e)return;let t=setTimeout(x,0),i=setTimeout(x,2e3),a=setTimeout(x,5e3),l=setTimeout((()=>{p(!0)}),6e3);return()=>{clearTimeout(t),clearTimeout(i),clearTimeout(a),clearTimeout(l)}}),[n,o,r,x]),{hasPWMBadge:l,willPushPWMBadge:h,PWM_BADGE_SPACE_WIDTH:"40px"}}({containerRef:F,inputRef:_,pushPasswordManagerStrategy:g,isFocused:Q}),Z=i.useCallback((e=>{let t=e.currentTarget.value.slice(0,d);t.length>0&&B&&!B.test(t)?e.preventDefault():("string"==typeof D&&t.length<D.length&&document.dispatchEvent(new Event("selectionchange")),z(t))}),[d,z,D,B]),X=i.useCallback((()=>{var e;if(_.current){let t=Math.min(_.current.value.length,d-1),n=_.current.value.length;null==(e=_.current)||e.setSelectionRange(t,n),Y(t),q(n)}U(!0)}),[d]),ee=i.useCallback((e=>{var t,n;let r=_.current;if(!$.current.isIOS||!e.clipboardData||!r)return;let i=e.clipboardData.getData("text/plain");e.preventDefault();let o=null==(t=_.current)?void 0:t.selectionStart,a=null==(n=_.current)?void 0:n.selectionEnd,l=(o!==a?O.slice(0,o)+i+O.slice(a):O.slice(0,o)+i+O.slice(o)).slice(0,d);if(l.length>0&&B&&!B.test(l))return;r.value=l,z(l);let s=Math.min(l.length,d-1),c=l.length;r.setSelectionRange(s,c),Y(s),q(c)}),[d,z,B,O]),te=i.useMemo((()=>({position:"relative",cursor:T.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"})),[T.disabled]),ne=i.useMemo((()=>({position:"absolute",inset:0,width:J.willPushPWMBadge?`calc(100% + ${J.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:J.willPushPWMBadge?`inset(0 ${J.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:p,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"})),[J.PWM_BADGE_SPACE_WIDTH,J.willPushPWMBadge,p]),re=i.useMemo((()=>i.createElement("input",((e,t)=>f(e,y(t)))(((e,t)=>{for(var n in t||(t={}))v.call(t,n)&&k(e,n,t[n]);if(j)for(var n of j(t))w.call(t,n)&&k(e,n,t[n]);return e})({autoComplete:T.autoComplete||"one-time-code"},T),{"data-input-otp":!0,"data-input-otp-mss":V,"data-input-otp-mse":K,inputMode:x,pattern:null==B?void 0:B.source,style:ne,maxLength:d,value:O,ref:_,onPaste:e=>{var t;ee(e),null==(t=T.onPaste)||t.call(T,e)},onChange:Z,onMouseOver:e=>{var t;G(!0),null==(t=T.onMouseOver)||t.call(T,e)},onMouseLeave:e=>{var t;G(!1),null==(t=T.onMouseLeave)||t.call(T,e)},onFocus:e=>{var t;X(),null==(t=T.onFocus)||t.call(T,e)},onBlur:e=>{var t;U(!1),null==(t=T.onBlur)||t.call(T,e)}}))),[Z,X,ee,x,ne,d,K,V,T,null==B?void 0:B.source,O]),ie=i.useMemo((()=>({slots:Array.from({length:d}).map(((e,t)=>{let n=Q&&null!==V&&null!==K&&(V===K&&t===V||t>=V&&t<K),r=void 0!==O[t]?O[t]:null;return{char:r,isActive:n,hasFakeCaret:n&&null===r}})),isFocused:Q,isHovering:!T.disabled&&H})),[Q,H,d,K,V,T.disabled,O]),oe=i.useMemo((()=>I?I(ie):i.createElement(E.Provider,{value:ie},M)),[M,ie,I]);return i.createElement(i.Fragment,null,null!==A&&i.createElement("noscript",null,i.createElement("style",null,A)),i.createElement("div",{ref:F,"data-input-otp-container":!0,style:te,className:S},oe,i.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},re)))}));function L(e,t){try{e.insertRule(t)}catch(n){console.error("input-otp could not insert CSS rule:",t)}}S.displayName="Input";var P="\n[data-input-otp] {\n  --nojs-bg: white !important;\n  --nojs-fg: black !important;\n\n  background-color: var(--nojs-bg) !important;\n  color: var(--nojs-fg) !important;\n  caret-color: var(--nojs-fg) !important;\n  letter-spacing: .25em !important;\n  text-align: center !important;\n  border: 1px solid var(--nojs-fg) !important;\n  border-radius: 4px !important;\n  width: 100% !important;\n}\n@media (prefers-color-scheme: dark) {\n  [data-input-otp] {\n    --nojs-bg: black !important;\n    --nojs-fg: white !important;\n  }\n}",A=n(14494);function I(e){return(0,r.jsx)(M,{children:(0,r.jsx)(S,{onComplete:()=>{e.onEnter()},maxLength:6,value:e.value,render:t=>{let{slots:n}=t;return(0,r.jsx)(A.mc,{flex:"row",gap:"xs",center:"both",children:n.map(((t,n)=>(0,r.jsx)(T,{...t,isInvalid:e.isInvalid},n)))})},onChange:t=>{e.setValue(t)}})})}const M=(0,h.jx)({"& input":{maxWidth:"100%"}});function T(e){return(0,r.jsxs)(O,{"data-active":e.isActive,"data-error":e.isInvalid,children:[null!==e.char&&(0,r.jsx)("div",{children:e.char}),e.hasFakeCaret&&(0,r.jsx)(R,{})]})}const W=m.i7`
  0%, 100% {
    opacity: 0;
  },
  50% {
    opacity: 1;
  }
  `,R=(0,h.jx)((e=>{const t=(0,c.QP)();return{position:"absolute",pointerEvents:"none",inset:0,display:"flex",alignItems:"center",justifyContent:"center",animation:`${W} 1s infinite`,"&::before":{content:"''",display:"block",width:"1.5px",height:"1em",backgroundColor:t.colors.primaryText}}})),O=(0,h.jx)((e=>{const t=(0,c.QP)();return{position:"relative",width:"40px",height:"40px",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",fontSize:u.J.md,padding:u.YK.xs,boxSizing:"border-box",transition:"color 200ms ease",border:`2px solid ${t.colors.borderColor}`,"&[data-active='true']":{borderColor:t.colors.accentText},color:t.colors.primaryText,borderRadius:u.r8.lg,"&[data-error='true']":{borderColor:t.colors.danger}}}));var D=n(4230),z=n(5961),B=n(34153),_=n(46025);function F(e){const{wallet:t,done:n,goBack:c,userInfo:u}=e,p="wide"===e.size,h=e.locale,[m,g]=(0,i.useState)(""),[f,y]=(0,i.useState)("idle"),[j,v]=(0,i.useState)(),[w,k]=(0,i.useState)("sending"),C=(0,i.useMemo)((()=>(0,a.Y)(t.id)),[t.id]),[b]=(0,i.useState)("base"),E=(0,i.useCallback)((async()=>{g(""),y("idle"),k("sending");try{if("email"in u)await(0,s.je)({ecosystem:C?{id:t.id,partnerId:t.getConfig()?.partnerId}:void 0,email:u.email,strategy:"email",client:e.client}),k("sent");else{if(!("phone"in u))throw new Error("Invalid userInfo");await(0,s.je)({ecosystem:C?{id:t.id,partnerId:t.getConfig()?.partnerId}:void 0,phoneNumber:u.phone,strategy:"phone",client:e.client}),k("sent")}}catch(n){console.error(n),y("idle"),k("error")}}),[e.client,u,t,C]);const S=async r=>{if(6===r.length){y("verifying");try{e.isLinking?await async function(e){"email"in u?await(0,l.o)(t,{strategy:"email",email:u.email,verificationCode:e}):"phone"in u&&await(0,l.o)(t,{strategy:"phone",phoneNumber:u.phone,verificationCode:e})}(r):await async function(n){if("email"in u)await t.connect({chain:e.chain,strategy:"email",email:u.email,verificationCode:n,client:e.client}),await(0,d.O)("email",o.n);else{if(!("phone"in u))throw new Error("Invalid userInfo");await t.connect({chain:e.chain,strategy:"phone",phoneNumber:u.phone,verificationCode:n,client:e.client}),await(0,d.O)("phone",o.n)}}(r),n(),y("valid")}catch(i){i instanceof Error&&i?.message?.includes("PAYMENT_METHOD_REQUIRED")?y("payment_required"):i instanceof Error&&(i.message.toLowerCase().includes("link")||i.message.toLowerCase().includes("profile"))?(y("linking_error"),v(i.message)):y("invalid"),console.error("Authentication Error",i)}}},L=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{L.current||(L.current=!0,E())}),[E]),"base"===b?(0,r.jsxs)(A.mc,{fullHeight:!0,flex:"column",animate:"fadein",children:[(0,r.jsx)(A.mc,{p:"lg",children:(0,r.jsx)(A.rQ,{title:h.signIn,onBack:c})}),(0,r.jsx)(A.mc,{expand:!0,flex:"column",center:"y",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault()},children:[(0,r.jsxs)(A.mc,{flex:"column",center:"x",px:"lg",children:[!p&&(0,r.jsx)(D.h,{y:"xl"}),(0,r.jsx)(_.E,{children:h.emailLoginScreen.enterCodeSendTo}),(0,r.jsx)(D.h,{y:"sm"}),(0,r.jsx)(_.E,{color:"primaryText",children:"email"in u?u.email:u.phone}),(0,r.jsx)(D.h,{y:"xl"})]}),(0,r.jsx)(I,{isInvalid:"invalid"===f,digits:6,value:m,setValue:e=>{g(e),y("idle")},onEnter:()=>{S(m)}}),"invalid"===f&&(0,r.jsxs)(x,{children:[(0,r.jsx)(D.h,{y:"md"}),(0,r.jsx)(_.E,{size:"sm",color:"danger",center:!0,children:h.emailLoginScreen.invalidCode})]}),"linking_error"===f&&(0,r.jsxs)(x,{children:[(0,r.jsx)(D.h,{y:"md"}),(0,r.jsx)(_.E,{size:"sm",color:"danger",center:!0,children:j||"Failed to verify code"})]}),"payment_required"===f&&(0,r.jsxs)(x,{children:[(0,r.jsx)(D.h,{y:"md"}),(0,r.jsx)(_.E,{size:"sm",color:"danger",center:!0,children:h.maxAccountsExceeded})]}),(0,r.jsx)(D.h,{y:"xl"}),(0,r.jsx)(A.mc,{px:p?"xxl":"lg",children:"verifying"===f?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(A.mc,{flex:"row",center:"x",animate:"fadein",children:(0,r.jsx)(z.y,{size:"lg",color:"accentText"})})}):(0,r.jsx)(A.mc,{animate:"fadein",children:(0,r.jsx)(B.$n,{onClick:()=>S(m),variant:"accent",type:"submit",style:{width:"100%"},children:h.emailLoginScreen.verify})},"btn-container")}),(0,r.jsx)(D.h,{y:"xl"}),!p&&(0,r.jsx)(A.N1,{}),(0,r.jsxs)(A.mc,{p:p?void 0:"lg",children:["error"===w&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(_.E,{size:"sm",center:!0,color:"danger",children:h.emailLoginScreen.failedToSendCode})}),"sending"===w&&(0,r.jsxs)(A.mc,{flex:"row",center:"both",gap:"xs",style:{textAlign:"center"},children:[(0,r.jsx)(_.E,{size:"sm",children:h.emailLoginScreen.sendingCode}),(0,r.jsx)(z.y,{size:"xs",color:"secondaryText"})]}),"sent"===w&&(0,r.jsx)($,{onClick:E,type:"button",children:h.emailLoginScreen.resendCode})]})]})})]}):null}const $=(0,h.OV)((e=>{const t=(0,c.QP)();return{all:"unset",color:t.colors.accentText,fontSize:u.J.sm,cursor:"pointer",textAlign:"center",fontWeight:500,width:"100%","&:hover":{color:t.colors.primaryText}}}))},49539:(e,t,n)=>{n.d(t,{a:()=>y});var r=n(70579),i=n(65043),o=n(23102),a=n(22318),l=n(81270),s=n(63109),c=n(73310),u=n(74394);const d=e=>(0,r.jsxs)("svg",{width:e.size,height:e.size,viewBox:"0 0 36 36",fill:"none","aria-hidden":"true",children:[(0,r.jsx)("path",{d:"M18.0001 15C17.2045 15 16.4414 15.3161 15.8788 15.8787C15.3162 16.4413 15.0001 17.2044 15.0001 18C15.0001 19.53 14.8501 21.765 14.6101 24",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M21.0002 19.6801C21.0002 23.2501 21.0002 29.2501 19.5002 33.0001",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M25.9348 31.53C26.1148 30.63 26.5798 28.08 26.6848 27",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M2.99976 18C2.99976 14.8518 3.99032 11.7833 5.83112 9.22935C7.67193 6.67536 10.2697 4.76531 13.2563 3.76975C16.243 2.77419 19.4672 2.74359 22.4723 3.6823C25.4773 4.621 28.1108 6.48141 29.9998 9",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M2.99976 24H3.01628",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M32.7 24C33 21 32.8965 15.969 32.7 15",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M7.49976 29.25C8.24976 27 8.99976 22.5 8.99976 18C8.99824 16.9783 9.17071 15.9638 9.50976 15",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M12.9751 33C13.2901 32.01 13.6501 31.02 13.8301 30",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M13.5 10.2C14.8686 9.40988 16.4211 8.99401 18.0014 8.99426C19.5818 8.99452 21.1342 9.41088 22.5025 10.2015C23.8708 10.9921 25.0069 12.129 25.7964 13.498C26.5859 14.867 27.001 16.4197 27 18V21",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})]});var p=n(4230),h=n(14494),x=n(34153),m=n(70844),g=n(43571),f=n(27238);function y(e){const{wallet:t,done:n,client:o,chain:a,size:c,locale:u}=e,[d,x]=(0,i.useState)("loading"),m=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{m.current||(m.current=!0,(0,s.A)(o,(0,l.Y)(t.id)?t.id:void 0).then((e=>{x(e?"login":"select")})).catch((()=>{x("select")})))}),[o,t.id]),(0,r.jsxs)(h.mc,{animate:"fadein",fullHeight:!0,flex:"column",children:[(0,r.jsx)(h.mc,{p:"lg",children:(0,r.jsx)(h.rQ,{title:e.isLinking?u.passkeys.linkPasskey:u.passkeys.title,onBack:e.onBack})}),(0,r.jsx)(h.mc,{px:"wide"===c?"xxl":"lg",expand:!0,flex:"column",center:"y",children:(0,r.jsxs)("div",{children:["loading"===d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.x,{}),(0,r.jsx)(p.h,{y:"xxl"})]}),"select"===d&&(0,r.jsx)(w,{onSignin:()=>{x("login")},onSignup:()=>{x("signup")}}),"login"===d&&(0,r.jsx)(j,{wallet:t,client:o,done:n,onCreate:()=>{x("signup")},chain:a,isLinking:e.isLinking}),"signup"===d&&(0,r.jsx)(v,{wallet:t,client:o,done:n,chain:a,isLinking:e.isLinking})]})})]})}function j(e){const{wallet:t,done:n,client:l,chain:s}=e,[h,g]=(0,i.useState)("loading"),[y,j]=(0,i.useState)();async function v(){g("loading");try{e.isLinking?await(0,o.o)(t,{strategy:"passkey",type:"sign-in"}).catch((e=>{throw j(e.message),e})):(await t.connect({client:l,strategy:"passkey",type:"sign-in",chain:s}),await(0,u.O)("passkey",a.n)),n()}catch{g("error")}}const w=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{w.current||(w.current=!0,v())})),"loading"===h?(0,r.jsx)(f.G,{title:"Requesting Passkey",subtitle:"A pop-up prompt will appear to sign-in and verify your passkey",icon:(0,r.jsx)(d,{size:c.RK.xxl})}):"error"===h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.W,{onTryAgain:v,title:y||"Failed to Login"}),(0,r.jsx)(p.h,{y:"sm"}),(0,r.jsx)(x.$n,{variant:"outline",fullWidth:!0,onClick:e.onCreate,children:"Create a new Passkey"}),(0,r.jsx)(p.h,{y:"lg"})]}):null}function v(e){const{wallet:t,done:n,client:l,chain:s}=e,[h,x]=(0,i.useState)(),[g,y]=(0,i.useState)("loading");async function j(){y("loading");try{e.isLinking?await(0,o.o)(t,{strategy:"passkey",type:"sign-up"}):(await t.connect({client:l,strategy:"passkey",type:"sign-up",chain:s}),await(0,u.O)("passkey",a.n)),n()}catch(r){console.error(r),r instanceof Error&&x(`Error creating passkey: ${r.message}`),y("error")}}const v=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{v.current||(v.current=!0,j())})),"loading"===g?(0,r.jsx)(f.G,{title:"Creating Passkey",subtitle:"A pop-up prompt will appear to sign-in and verify your passkey",icon:(0,r.jsx)(d,{size:c.RK.xxl})}):"error"===g?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.W,{onTryAgain:j,title:h||"Failed to create passkey"}),(0,r.jsx)(p.h,{y:"lg"})]}):null}function w(e){return(0,r.jsxs)(h.mc,{children:[(0,r.jsx)(p.h,{y:"xxl"}),(0,r.jsx)(h.mc,{flex:"row",center:"x",color:"accentText",children:(0,r.jsx)(d,{size:c.RK["4xl"]})}),(0,r.jsx)(p.h,{y:"xl"}),(0,r.jsx)(p.h,{y:"xxl"}),(0,r.jsx)(x.$n,{variant:"accent",onClick:e.onSignup,fullWidth:!0,children:"Create a Passkey"}),(0,r.jsx)(p.h,{y:"sm"}),(0,r.jsx)(x.$n,{variant:"outline",onClick:e.onSignin,fullWidth:!0,children:"I have a Passkey"}),(0,r.jsx)(p.h,{y:"lg"})]})}},42683:(e,t,n)=>{n.d(t,{R:()=>f});var r=n(70579),i=n(65043),o=n(22318),a=n(81270),l=n(23102),s=n(9142),c=n(56703),u=n(74394),d=n(4230),p=n(5961),h=n(14494),x=n(34153),m=n(46025),g=n(49354);function f(e){const t=e.locale,n=t.socialLoginScreen,f=(0,c.QP)(),[y,j]=(0,i.useState)(void 0),{done:v,wallet:w}=e,[k,C]=(0,i.useState)("connecting"),b=e.state?.socialLogin,E=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{E.current||b&&(E.current=!0,C("connecting"),b.connectionPromise.then((()=>{v(),C("connected")})).catch((e=>{j(e.message),C("error")})))}),[v,b]),(0,r.jsx)(h.mc,{animate:"fadein",flex:"column",fullHeight:!0,children:(0,r.jsxs)(h.mc,{flex:"column",expand:!0,p:"lg",style:{paddingBottom:0},children:[e.goBack&&(0,r.jsx)(h.rQ,{title:e.isLinking?e.connectLocale.manageWallet.linkProfile:n.title,onBack:e.goBack}),"compact"===e.size?(0,r.jsx)(d.h,{y:"xl"}):null,(0,r.jsxs)(h.mc,{flex:"column",center:"both",expand:!0,style:{textAlign:"center",minHeight:"250px"},children:["error"!==k&&(0,r.jsxs)(h.mc,{animate:"fadein",children:[(0,r.jsx)(m.E,{color:"primaryText",center:!0,multiline:!0,style:{maxWidth:"250px"},children:n.instruction}),(0,r.jsx)(d.h,{y:"xl"}),(0,r.jsx)(h.mc,{center:"x",flex:"row",children:(0,r.jsx)(p.y,{size:"lg",color:"accentText"})}),(0,r.jsx)(d.h,{y:"xxl"})]}),"error"===k&&(0,r.jsxs)(h.mc,{animate:"fadein",children:[y?(0,r.jsx)(m.E,{center:!0,color:"danger",children:y}):(0,r.jsx)(m.E,{color:"danger",children:n.failed}),(0,r.jsx)(d.h,{y:"lg"}),(0,r.jsx)(x.$n,{variant:"primary",onClick:async()=>{const n=w.getConfig();if(n&&"auth"in n&&"popup"!==(n&&"auth"in n?n?.auth?.mode??"popup":"popup")&&!e.isLinking)return(0,s.N)({authOption:e.socialAuth,client:e.client,ecosystem:(0,a.Y)(w)?{id:w.id,partnerId:w.getConfig()?.partnerId}:void 0,redirectUrl:n?.auth?.redirectUrl,mode:n?.auth?.mode});try{const t=(0,g.C)({authOption:e.socialAuth,themeObj:f,client:e.client,ecosystem:(0,a.Y)(w)?{id:w.id,partnerId:w.getConfig()?.partnerId}:void 0});if(!t)throw new Error(`Failed to open ${e.socialAuth} login window`);C("connecting"),e.isLinking?await(0,l.o)(w,{strategy:e.socialAuth,openedWindow:t,closeOpenedWindow:e=>{e.close()}}).catch((e=>{throw j(e.message),e})):await w.connect({chain:e.chain,strategy:e.socialAuth,openedWindow:t,closeOpenedWindow:e=>{e.close()},client:e.client}),await(0,u.O)(e.socialAuth,o.n),C("connected"),v()}catch(r){C("error"),r instanceof Error&&r?.message?.includes("PAYMENT_METHOD_REQUIRED")&&j(t.maxAccountsExceeded),console.error(`Error sign in with ${e.socialAuth}`,r)}},children:n.retry}),(0,r.jsx)(d.h,{y:"xxl"})]})]})]})})}},31512:(e,t,n)=>{n.d(t,{getUserEmail:()=>l,getUserPhoneNumber:()=>s,je:()=>c});var r=n(35770),i=n(84740);async function o(e,t){return(0,i.getOrCreateInAppWalletConnector)(e,(async e=>{const{InAppWebConnector:r}=await n.e(95685).then(n.bind(n,95685));return new r({client:e,ecosystem:t})}),t)}async function a(e){const{client:t}=e,n=await o(t),i=await n.getUser();if(i.status===r.P1.LOGGED_IN_WALLET_INITIALIZED)return i}async function l(e){const t=await a(e);if(t&&"email"in t.authDetails)return t.authDetails.email}async function s(e){const t=await a(e);if(t&&"phoneNumber"in t.authDetails)return t.authDetails.phoneNumber}async function c(e){return(await o(e.client,e.ecosystem)).preAuthenticate(e)}}}]);
//# sourceMappingURL=27459.0151acd3.chunk.js.map