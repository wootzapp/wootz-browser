"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useEnabledPaymentMethods = useEnabledPaymentMethods;
const addresses_js_1 = require("../../../../../../../constants/addresses.js");
const nativeToken_js_1 = require("../../nativeToken.js");
function useEnabledPaymentMethods(options) {
    const { payOptions, supportedDestinations, toChain, toToken } = options;
    function getEnabledPayMethodsForSelectedToken() {
        const chain = supportedDestinations.find((c) => c.chain.id === toChain.id);
        if (!chain) {
            return {
                fiat: false,
                swap: false,
            };
        }
        const toTokenAddress = (0, nativeToken_js_1.isNativeToken)(toToken)
            ? addresses_js_1.NATIVE_TOKEN_ADDRESS
            : toToken.address;
        const tokenInfo = chain.tokens.find((t) => t.address.toLowerCase() === toTokenAddress.toLowerCase());
        if (!tokenInfo) {
            return {
                fiat: true,
                swap: true,
            };
        }
        return {
            fiat: tokenInfo.buyWithFiatEnabled,
            swap: tokenInfo.buyWithCryptoEnabled,
        };
    }
    const { fiat, swap } = getEnabledPayMethodsForSelectedToken();
    const buyWithFiatEnabled = payOptions.buyWithFiat !== false && fiat;
    const buyWithCryptoEnabled = payOptions.buyWithCrypto !== false && swap;
    const showPaymentSelection = buyWithFiatEnabled && buyWithCryptoEnabled;
    return {
        buyWithFiatEnabled,
        buyWithCryptoEnabled,
        showPaymentSelection,
    };
}
//# sourceMappingURL=useEnabledPaymentMethods.js.map