"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.resolveMimeType = resolveMimeType;
const mime_js_1 = require("../ui/MediaRenderer/mime/mime.js");
/**
 * @internal
 */
async function resolveMimeType(url) {
    if (!url) {
        return undefined;
    }
    const mimeType = (0, mime_js_1.getMimeTypeFromUrl)(url);
    if (mimeType) {
        return mimeType;
    }
    const res = await fetch(url, {
        method: "HEAD",
    });
    if (res.ok && res.headers.has("content-type")) {
        return res.headers.get("content-type") || undefined;
    }
    // we failed to resolve the mime type, return null
    return undefined;
}
//# sourceMappingURL=resolveMimeType.js.map