"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateWallet = generateWallet;
const domains_js_1 = require("../../../../../utils/domains.js");
const fetch_js_1 = require("../../../../../utils/fetch.js");
/**
 * Generate a new enclave wallet using an auth token
 * @internal
 */
async function generateWallet({ authToken, client, ecosystem, }) {
    const clientFetch = (0, fetch_js_1.getClientFetch)(client, ecosystem);
    const response = await clientFetch(`${(0, domains_js_1.getThirdwebBaseUrl)("inAppWallet")}/api/v1/enclave-wallet/generate`, {
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "x-thirdweb-client-id": client.clientId,
            Authorization: `Bearer embedded-wallet-token:${authToken}`,
        },
    });
    if (!response.ok) {
        throw new Error("Failed to generate wallet");
    }
    const { wallet } = (await response.json());
    return wallet;
}
//# sourceMappingURL=generate-wallet.enclave.js.map