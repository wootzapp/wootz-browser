"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getWinningBid = getWinningBid;
const addresses_js_1 = require("../../../../constants/addresses.js");
const resolve_currency_value_js_1 = require("../../../../utils/extensions/resolve-currency-value.js");
const getWinningBid_js_1 = require("../../__generated__/IEnglishAuctions/read/getWinningBid.js");
/**
 * Retrieves the winning bid information for a given auction.
 *
 * @param options - The options for retrieving the winning bid.
 * @returns The winning bid information, or undefined if there is no winning bid.
 * @extension MARKETPLACE
 * @example
 * ```ts
 * import { getWinningBid } from "thirdweb/extensions/marketplace";
 *
 * const winningBid = await getWinningBid({
 *  contract,
 *  auctionId: 0n,
 * });
 * ```
 */
async function getWinningBid(options) {
    const [bidderAddress, currencyAddress, bidAmountWei] = await (0, getWinningBid_js_1.getWinningBid)(options);
    if (bidderAddress === addresses_js_1.ADDRESS_ZERO) {
        return undefined;
    }
    return {
        bidderAddress,
        currencyAddress,
        bidAmountWei,
        currencyValue: await (0, resolve_currency_value_js_1.resolveCurrencyValue)({
            chain: options.contract.chain,
            client: options.contract.client,
            currencyAddress,
            wei: bidAmountWei,
        }),
    };
}
//# sourceMappingURL=getWinningBid.js.map