"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SwapFlow = SwapFlow;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const utils_js_1 = require("../../../../../../../chains/utils.js");
const addresses_js_1 = require("../../../../../../../constants/addresses.js");
const nativeToken_js_1 = require("../../nativeToken.js");
const ConfirmationScreen_js_1 = require("./ConfirmationScreen.js");
const SwapStatusScreen_js_1 = require("./SwapStatusScreen.js");
function SwapFlow(props) {
    const [swapTxHash, setSwapTxHash] = (0, react_1.useState)();
    const quote = props.buyWithCryptoQuote;
    const fromChain = (0, react_1.useMemo)(() => (0, utils_js_1.getCachedChain)(quote.swapDetails.fromToken.chainId), [quote]);
    const toChain = (0, react_1.useMemo)(() => (0, utils_js_1.getCachedChain)(quote.swapDetails.toToken.chainId), [quote]);
    const fromTokenSymbol = quote.swapDetails.fromToken.symbol || "";
    const toTokenSymbol = quote.swapDetails.toToken.symbol || "";
    const fromAmount = quote.swapDetails.fromAmount;
    const toAmount = quote.swapDetails.toAmount;
    const _toToken = quote.swapDetails.toToken;
    const _fromToken = quote.swapDetails.fromToken;
    const toToken = (0, react_1.useMemo)(() => {
        if (_toToken.tokenAddress === addresses_js_1.NATIVE_TOKEN_ADDRESS) {
            return nativeToken_js_1.NATIVE_TOKEN;
        }
        const tokenInfo = {
            address: _toToken.tokenAddress,
            name: _toToken.name || "",
            symbol: _toToken.symbol || "",
        };
        return tokenInfo;
    }, [_toToken]);
    const fromToken = (0, react_1.useMemo)(() => {
        if (_fromToken.tokenAddress === addresses_js_1.NATIVE_TOKEN_ADDRESS) {
            return nativeToken_js_1.NATIVE_TOKEN;
        }
        const tokenInfo = {
            address: _fromToken.tokenAddress,
            name: _fromToken.name || "",
            symbol: _fromToken.symbol || "",
        };
        return tokenInfo;
    }, [_fromToken]);
    if (swapTxHash) {
        return ((0, jsx_runtime_1.jsx)(SwapStatusScreen_js_1.SwapStatusScreen, { title: props.title, onBack: props.onBack, onTryAgain: props.onTryAgain, swapTxHash: swapTxHash, client: props.client, onDone: props.onDone, transactionMode: props.transactionMode, isEmbed: props.isEmbed, quote: quote, onSuccess: props.onSuccess }));
    }
    return ((0, jsx_runtime_1.jsx)(ConfirmationScreen_js_1.SwapConfirmationScreen, { title: props.title, setSwapTxHash: setSwapTxHash, toChain: toChain, toAmount: toAmount, toTokenSymbol: toTokenSymbol, fromChain: fromChain, toToken: toToken, fromAmount: fromAmount, fromToken: fromToken, fromTokenSymbol: fromTokenSymbol, client: props.client, onBack: props.onBack, onTryAgain: props.onTryAgain, quote: quote, isFiatFlow: props.isFiatFlow, payer: props.payer }));
}
//# sourceMappingURL=SwapFlow.js.map