"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getEcosystemWalletAuthOptions = getEcosystemWalletAuthOptions;
const domains_js_1 = require("../../utils/domains.js");
/**
 * Retrieves the specified auth options for a given ecosystem wallet, if any.
 * @param walletId The ecosystem wallet ID.
 * @returns {AuthOption[] | undefined} The auth options for the ecosystem wallet.
 * @internal
 */
async function getEcosystemWalletAuthOptions(walletId) {
    const res = await fetch(`${(0, domains_js_1.getThirdwebBaseUrl)("inAppWallet")}/api/2024-05-05/ecosystem-wallet`, {
        headers: {
            "x-ecosystem-id": walletId,
        },
    });
    const data = await res.json();
    if (!data || data.code === "UNAUTHORIZED") {
        throw new Error(data.message ||
            `Could not find ecosystem wallet with id ${walletId}, please check your ecosystem wallet configuration.`);
    }
    return data.authOptions ?? undefined;
}
//# sourceMappingURL=get-ecosystem-wallet-auth-options.js.map