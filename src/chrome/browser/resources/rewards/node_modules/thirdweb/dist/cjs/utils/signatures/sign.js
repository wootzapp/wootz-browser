"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sign = sign;
const secp256k1_1 = require("@noble/curves/secp256k1");
const hex_js_1 = require("../encoding/hex.js");
/**
 * Generates the signature for the provided transaction hash.
 * @param options - The options for signing.
 * @param options.hash - The hash to be signed.
 * @param options.privateKey - The private key to sign the hash with.
 * @returns The transaction signature.
 * @example
 * ```ts
 * import { sign } from "thirdweb/utils";
 *
 * const signature = sign({
 *   hash: "0x",
 *   privateKey: "0x",
 * });
 * ```
 * @utils
 */
function sign({ hash, privateKey }) {
    const { r, s, recovery } = secp256k1_1.secp256k1.sign(hash.slice(2), privateKey.slice(2));
    return {
        r: (0, hex_js_1.toHex)(r, { size: 32 }),
        s: (0, hex_js_1.toHex)(s, { size: 32 }),
        v: recovery ? 28n : 27n,
        yParity: recovery,
    };
}
//# sourceMappingURL=sign.js.map