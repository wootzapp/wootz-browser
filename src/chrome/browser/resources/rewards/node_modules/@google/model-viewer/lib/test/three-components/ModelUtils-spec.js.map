{"version":3,"file":"ModelUtils-spec.js","sourceRoot":"","sources":["../../../src/test/three-components/ModelUtils-spec.ts"],"names":[],"mappings":"AACA;;;;;;;;;;;;;GAaG;AACH,OAAO,EAAC,IAAI,EAAU,MAAM,OAAO,CAAC;AACpC,OAAO,EAAO,UAAU,EAAC,MAAM,0CAA0C,CAAC;AAE1E,OAAO,EAAC,cAAc,EAAC,MAAM,6CAA6C,CAAC;AAC3E,OAAO,EAAC,cAAc,EAAC,MAAM,sCAAsC,CAAC;AACpE,OAAO,EAAC,SAAS,EAAC,MAAM,eAAe,CAAC;AAExC,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AAE3B,MAAM,kBAAkB,GAAG,SAAS,CAAC,sBAAsB,CAAC,CAAC;AAE7D,KAAK,CAAC,YAAY,EAAE,GAAG,EAAE;IACvB,KAAK,CAAC,WAAW,EAAE,GAAG,EAAE;QACtB,IAAI,MAAW,CAAC;QAChB,IAAI,IAAU,CAAC;QAEf,KAAK,CAAC,KAAK,IAAI,EAAE;YACf,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;YAC1B,IAAI,GAAG,MAAM,cAAc,CAAC,kBAAkB,EAAE,MAAM,CAAC,CAAC;QAC1D,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,oCAAoC,EAAE,GAAG,EAAE;YAC9C,MAAM,IAAI,GAAG,CAAC,KAAa,EAAE,MAAe,EAAU,EAAE;gBACtD,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;YACnC,CAAC,CAAC;YACF,MAAM,SAAS,GAAG,cAAc,CAAC,IAAI,CAAC,KAAM,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAEvD,MAAM,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;YAC/B,WAAW,CAAC,aAAa,CAAC,IAAI,CAAC,KAAM,CAAC,CAAC;YACvC,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACnD,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["\n/* @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {Box3, Vector3} from 'three';\nimport {GLTF, GLTFLoader} from 'three/examples/jsm/loaders/GLTFLoader.js';\n\nimport {loadWithLoader} from '../../three-components/CachingGLTFLoader.js';\nimport {reduceVertices} from '../../three-components/ModelUtils.js';\nimport {assetPath} from '../helpers.js';\n\nconst expect = chai.expect;\n\nconst ASTRONAUT_GLB_PATH = assetPath('models/Astronaut.glb');\n\nsuite('ModelUtils', () => {\n  suite('cloneGltf', () => {\n    let loader: any;\n    let gltf: GLTF;\n\n    setup(async () => {\n      loader = new GLTFLoader();\n      gltf = await loadWithLoader(ASTRONAUT_GLB_PATH, loader);\n    });\n\n    test('reduceVertices matches boundingBox', () => {\n      const maxX = (value: number, vertex: Vector3): number => {\n        return Math.max(value, vertex.x);\n      };\n      const rightSide = reduceVertices(gltf.scene!, maxX, 0);\n\n      const boundingBox = new Box3();\n      boundingBox.setFromObject(gltf.scene!);\n      expect(rightSide).to.be.equal(boundingBox.max.x);\n    });\n  });\n});\n"]}