{"version":3,"file":"Damper-spec.js","sourceRoot":"","sources":["../../../src/test/three-components/Damper-spec.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;GAaG;AAEH,OAAO,EAAC,MAAM,EAAC,MAAM,kCAAkC,CAAC;AAExD,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AAE3B,MAAM,eAAe,GAAG,MAAM,GAAG,IAAI,CAAC;AACtC,MAAM,iBAAiB,GAAG,EAAE,GAAG,eAAe,CAAC;AAE/C,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE;IACnB,IAAI,MAAc,CAAC;IACnB,MAAM,OAAO,GAAG,CAAC,CAAC;IAClB,MAAM,IAAI,GAAG,CAAC,CAAC;IAEf,KAAK,CAAC,GAAG,EAAE;QACT,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC;IACxB,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,0DAA0D,EAAE,GAAG,EAAE;QACpE,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;QACtE,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,iBAAiB,EAAE,OAAO,CAAC,CAAC;QACtE,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,+CAA+C,EAAE,GAAG,EAAE;QACzD,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,GAAG,iBAAiB,EAAE,OAAO,CAAC,CAAC;QAC5E,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACnC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,8CAA8C,EAAE,GAAG,EAAE;QACxD,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC,CAAC,CAAC;QACjE,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;IAEH,IAAI,CAAC,gDAAgD,EAAE,GAAG,EAAE;QAC1D,MAAM,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC,OAAO,CAAC,CAAC;QACxE,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["/* @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License');\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an 'AS IS' BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {Damper} from '../../three-components/Damper.js';\n\nconst expect = chai.expect;\n\nconst ONE_FRAME_DELTA = 1000.0 / 60.0;\nconst FIFTY_FRAME_DELTA = 50 * ONE_FRAME_DELTA;\n\nsuite('Damper', () => {\n  let damper: Damper;\n  const initial = 5;\n  const goal = 2;\n\n  setup(() => {\n    damper = new Damper();\n  });\n\n  test('converges to goal with large time step without overshoot', () => {\n    const moving = damper.update(initial, goal, ONE_FRAME_DELTA, initial);\n    const final = damper.update(moving, goal, FIFTY_FRAME_DELTA, initial);\n    expect(final).to.be.eql(goal);\n  });\n\n  test('stays at initial value for negative time step', () => {\n    const final = damper.update(initial, goal, -1 * FIFTY_FRAME_DELTA, initial);\n    expect(final).to.be.eql(initial);\n  });\n\n  test('converges to goal when normalization is zero', () => {\n    const final = damper.update(initial, goal, FIFTY_FRAME_DELTA, 0);\n    expect(final).to.be.eql(goal);\n  });\n\n  test('negative normalization is the same as positive', () => {\n    const final = damper.update(initial, goal, FIFTY_FRAME_DELTA, -initial);\n    expect(final).to.be.eql(goal);\n  });\n});\n"]}