<style include="cr-icons md-select">
  iron-icon {
    --icon-size: 20px;
    height: var(--icon-size);
    width: var(--icon-size);
    margin: 0px 8px 0px 4px;
  }
  cr-icon-button {
    --cr-icon-button-icon-size: 16px;
    --cr-icon-button-size: 24px;
    margin: 0 4px;
    color: var(--color-sys-on-surface-subtle);
  }
  cr-icon-button.active {
    background-color: var(--cr-active-background-color);
  }
  #play-pause {
    --cr-icon-button-icon-size: 20px;
    --cr-icon-button-size: 28px;
    color: var(--color-side-panel-entry-icon);
    --cr-icon-button-fill-color: var(--color-sys-primary);
  }
  .audio-background-when-paused-true {
    --audio-controls-background: transparent;
    --audio-controls-right-padding: 0px;
    --audio-controls-right-margin: 2px;
  }
  .audio-background-when-paused-false {
    --audio-controls-background: var(--color-sys-tonal-container);
    --audio-controls-right-padding: 4px;
    --audio-controls-right-margin: 6px;
  }
  #audio-controls {
    border-radius: 18px;
    display: inline-block;
    background: var(--audio-controls-background);
    height: fit-content;
    padding: 4px var(--audio-controls-right-padding) 4px 2px;
    margin-right: var(--audio-controls-right-margin);
  }
  .audio-controls {
    margin: 0px 2px;
  }
  .dropdown-item {
    align-items: center;
    padding-left: 20px;
    min-width: 180px;
    font-size: 13px;
  }
  #font-size-decrease {
    margin-left: 12px;
  }
  #font-size-reset {
    margin-right: 4px;
  }
  .text-button {
    border: none;
    font-size: 13px;
  }
  .check-mark {
    visibility: hidden;
    margin: 0;
  }
  .toolbar-container {
    padding: 6px 8px;
    overflow: visible;
    white-space: nowrap;
    max-height: 48px;
    display: inline-block;
  }
  #more {
    display: none;
  }
  .separator {
    display: inline;
    width: 20px;
    height: 0px;
    transform: rotate(-90deg);
    margin: 10px 4px;
    background: var(--color-sys-divider);
  }
  :host-context([chrome-refresh-2023]) .separator {
    background: var(--color-side-panel-divider);
  }
  .md-select {
    --md-select-width: fit-content;
    margin: 4px 8px 4px 0px;
  }
  :host-context([chrome-refresh-2023]) .md-select {
    --md-select-text-color: var(--cr-primary-text-color);
  }
  :host-context([chrome-refresh-2023]) .md-select option {
    --md-select-option-bg-color: var(--color-sys-base-container-elevated);
  }
  .more-options-icon {
    margin: 8px 6px;
  }
</style>
<div id="toolbar-container" class="toolbar-container"
     role="toolbar" aria-label="$i18n{readingModeToolbarLabel}"
     on-keydown="onToolbarKeyDown_">
  <template id="read-aloud-container" is="dom-if" if="[[isReadAloudEnabled_]]">
    <span id="audio-controls" class$="audio-background-when-paused-[[paused]]">
      <cr-icon-button
        class="toolbar-button audio-controls"
        id="play-pause"
        disabled="[[!hasContent]]"
        title$="[[playPauseButtonAriaLabel_(paused)]]"
        aria-label$="[[playPauseButtonAriaLabel_(paused)]]"
        aria-keyshortcuts="k"
        aria-description="$i18n{playDescription}"
        iron-icon$="[[playPauseButtonIronIcon_(paused)]]"
        tabindex="0"
        on-click="onPlayPauseClick_">
      </cr-icon-button>
      <span id="granularity-container" hidden="[[paused]]">
        <cr-icon-button
          id="previousGranularity"
          class="toolbar-button audio-controls"
          aria-label="$i18n{previousSentenceLabel}"
          title="$i18n{previousSentenceLabel}"
          iron-icon="cr:chevron-left"
          tabindex="-1"
          on-click="onPreviousGranularityClick_">
      </cr-icon-button>
      <cr-icon-button
        id="nextGranularity"
        class="toolbar-button audio-controls"
        aria-label="$i18n{nextSentenceLabel}"
        title="$i18n{nextSentenceLabel}"
        iron-icon="cr:chevron-right"
        tabindex="-1"
        on-click="onNextGranularityClick_">
      </cr-icon-button>
      </span>
    </span>
    <cr-icon-button
      class="toolbar-button"
      id="rate"
      tabindex="-1"
      aria-label="$i18n{voiceSpeedLabel}"
      title="$i18n{voiceSpeedLabel}"
      aria-haspopup="menu"
      iron-icon="voice-rate:1"
      on-click="onShowRateMenuClick_">
    </cr-icon-button>
    <voice-selection-menu
      id="voiceSelectionMenu"
      selected-voice="[[selectedVoice]]"
      available-voices="[[availableVoices]]"
      locale-to-display-name="[[localeToDisplayName]]"
      paused="[[paused]]"
      preview-voice-playing="[[previewVoicePlaying]]">
    </voice-selection-menu>
    <cr-icon-button
      class="toolbar-button"
      id="highlight"
      tabindex="-1"
      iron-icon="read-anything:highlight-on"
      title="$i18n{turnHighlightOff}"
      on-click="onHighlightClick_">
    </cr-icon-button>
  </template>

  <template is="dom-if" if="[[!isReadAloudEnabled_]]">
    <select id="font-select" class="md-select" tabindex="0"
            on-change="onFontSelectValueChange_"
            on-keydown="onFontSelectKeyDown_"
            aria-label="$i18n{fontNameTitle}"
            title="$i18n{fontNameTitle}">
      <template id="fontTemplate" is="dom-repeat" items="[[fontOptions_]]">
        <option value="[[item]]">[[item]]</option>
      </template>
    </select>
    <hr class="separator" aria-hidden="true">
    <cr-icon-button
        id="font-size-decrease-old"
        tabindex="-1"
        class="toolbar-button"
        aria-label="$i18n{decreaseFontSizeLabel}"
        title="$i18n{decreaseFontSizeLabel}"
        iron-icon="read-anything:font-size-decrease-old"
        on-click="onFontSizeDecreaseClick_">
    </cr-icon-button>
    <cr-icon-button
        id="font-size-increase-old"
        tabindex="-1"
        class="toolbar-button"
        aria-label="$i18n{increaseFontSizeLabel}"
        title="$i18n{increaseFontSizeLabel}"
        iron-icon="read-anything:font-size-increase-old"
        on-click="onFontSizeIncreaseClick_">
    </cr-icon-button>
  </template>

  <hr class="separator" aria-hidden="true">

  <template is="dom-repeat" items="[[textStyleToggles_]]">
    <cr-icon-button
    tabindex="-1"
    class="toolbar-button"
    disabled="[[!paused]]"
    id="[[item.id]]"
      aria-label="[[item.title]]"
      title="[[item.title]]"
      iron-icon="[[item.icon]]"
      on-click="onToggleButtonClick_">
    </cr-icon-button>
  </template>

  <template is="dom-repeat" items="[[textStyleOptions_]]">
    <cr-icon-button
      class="toolbar-button"
      id="[[item.id]]"
      tabindex="-1"
      aria-label="[[item.ariaLabel]]"
      title="[[item.ariaLabel]]"
      aria-haspopup="menu"
      iron-icon="[[item.icon]]"
      on-click="onTextStyleMenuButtonClick_">
    </cr-icon-button>
  </template>
  <cr-icon-button
      id="more"
      tabindex="-1"
      aria-label="$i18n{moreOptionsLabel}"
      title="$i18n{moreOptionsLabel}"
      aria-haspopup="menu"
      iron-icon="cr:more-vert"
      on-click="onMoreOptionsClick_">
  </cr-icon-button>

  <cr-action-menu id="moreOptionsMenu" on-keydown="onToolbarKeyDown_">
    <template is="dom-repeat" items="[[moreOptionsButtons_]]">
      <cr-icon-button
        id="[[item.id]]"
        class="more-options-icon"
        aria-label="[[item.ariaLabel]]"
        title="[[item.ariaLabel]]"
        aria-haspopup="menu"
        iron-icon="[[item.icon]]"
        on-click="onTextStyleMenuButtonClick_">
      </cr-icon-button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="rateMenu">
    <template is="dom-repeat" items="[[rateOptions_]]">
      <button class="dropdown-item" on-click="onRateClick_">
        <iron-icon class="button-image check-mark"
            icon="read-anything-20:check-mark"></iron-icon>
        [[item]]x
      </button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="fontSizeMenu" on-keydown="onFontSizeMenuKeyDown_">
    <cr-icon-button
        class="font-size"
        id="font-size-decrease"
        aria-label="$i18n{decreaseFontSizeLabel}"
        title="$i18n{decreaseFontSizeLabel}"
        iron-icon="read-anything:font-size-decrease"
        on-click="onFontSizeDecreaseClick_">
    </cr-icon-button>
    <cr-icon-button
        class="font-size"
        id="font-size-increase"
        aria-label="$i18n{increaseFontSizeLabel}"
        title="$i18n{increaseFontSizeLabel}"
        iron-icon="cr:add"
        on-click="onFontSizeIncreaseClick_">
    </cr-icon-button>
    <cr-button
        class="text-button"
        id="font-size-reset"
        on-click="onFontResetClick_">
      $i18n{fontResetTitle}
    </cr-button>
  </cr-action-menu>
  <cr-action-menu id="colorMenu">
    <template is="dom-repeat" items="[[colorOptions_]]">
      <button class="dropdown-item" on-click="onColorClick_">
        <iron-icon class="button-image check-mark"
            icon="read-anything-20:check-mark"></iron-icon>
        <iron-icon class="button-image" icon="[[item.icon]]"></iron-icon>
        [[item.title]]
      </button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="lineSpacingMenu">
    <template is="dom-repeat" items="[[lineSpacingOptions_]]">
      <button class="dropdown-item" on-click="onLineSpacingClick_">
        <iron-icon class="button-image check-mark"
            icon="read-anything-20:check-mark"></iron-icon>
        <iron-icon class="button-image" icon="[[item.icon]]"></iron-icon>
        [[item.title]]
      </button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="letterSpacingMenu">
    <template is="dom-repeat" items="[[letterSpacingOptions_]]">
      <button class="dropdown-item" on-click="onLetterSpacingClick_">
        <iron-icon class="button-image check-mark"
            icon="read-anything-20:check-mark"></iron-icon>
        <iron-icon class="button-image" icon="[[item.icon]]"></iron-icon>
        [[item.title]]
      </button>
    </template>
  </cr-action-menu>
  <cr-action-menu id="fontMenu">
  <template id="fontTemplate" is="dom-repeat" items="[[fontOptions_]]">
    <button class="dropdown-item" on-click="onFontClick_">
      <iron-icon class="button-image check-mark"
          icon="read-anything-20:check-mark"></iron-icon>
      [[item]]
    </button>
  </template>
  </cr-action-menu>
</div>
