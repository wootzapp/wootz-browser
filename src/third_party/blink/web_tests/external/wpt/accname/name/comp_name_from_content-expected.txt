This is a testharness.js-based test.
Found 6 FAIL, 0 TIMEOUT, 0 NOTRUN.
[FAIL] button name from fallback content mixing attr() and strings with ::before and ::after
  assert_equals: <button data-alt-text-before="alt-before" data-alt-text-after="alt-after" data-expectedlabel="start alt-before end label start alt-after end" data-testname="button name from fallback content mixing attr() and strings with ::before and ::after" class="ex fallback-before-mixed fallback-after-mixed">label</button> expected "start alt-before end label start alt-after end" but got "before label after"
[FAIL] heading name from fallback content mixing attr() and strings with ::before and ::after
  assert_equals: <h3 data-alt-text-before="alt-before" data-alt-text-after="alt-after" data-expectedlabel="start alt-before end label start alt-after end" data-testname="heading name from fallback content mixing attr() and strings with ::before and ::after" class="ex fallback-before-mixed fallback-after-mixed">label</h3> expected "start alt-before end label start alt-after end" but got "before label after"
[FAIL] link name from fallback content mixing attr() and strings with ::before and ::after
  assert_equals: <a href="#" data-alt-text-before="alt-before" data-alt-text-after="alt-after" data-expectedlabel="start alt-before end label start alt-after end" data-testname="link name from fallback content mixing attr() and strings with ::before and ::after" class="ex fallback-before-mixed fallback-after-mixed">label</a> expected "start alt-before end label start alt-after end" but got "before label after"
[FAIL] heading name from content for each child including two nested links using aria-labelledby with nested image
  assert_equals: <h3 data-expectedlabel="image link2 link3" data-testname="heading name from content for each child including two nested links using aria-labelledby with nested image" class="ex">\n  <a href="#" aria-labelledby="nested_image_label2">\n    link1<!-- this text is skipped because of aria-labelledby -->\n  </a>\n  <a href="#" data-expectedlabel="link2 image link3" data-testname="link name from content for each child including nested image (referenced elsewhere via labelledby)" class="ex">\n    link2\n    <img id="nested_image_label2" alt="image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==">\n    <!-- image skipped in this link (when computing heading text) because it was already referenced by the first link within this heading label recursion cycle. -->\n    <!-- but image not skipped when computing the text of the link itself since it has not been referenced in that context -->\n    link3\n  </a>\n</h3> expected "image link2 link3" but got "image link2 image link3"
[FAIL] heading with link referencing image using aria-labelledby, that in turn references text element via aria-labelledby
  assert_equals: <h3 data-expectedlabel="image link" data-testname="heading with link referencing image using aria-labelledby, that in turn references text element via aria-labelledby" class="ex">\n  <a href="#" aria-labelledby="nested_image_label3">\n    <span class="note" id="crossref_link">link</span><!-- this text is skipped the first time around because of aria-labelledby on parent element -->\n  </a>\n  <!-- but it's picked up again in inverse order b/c of cross-referencial aria-labelledby edge case -->\n  <img id="nested_image_label_3" alt="image" aria-labelledby="crossref_link" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==">\n</h3> expected "image link" but got "link link"
[FAIL] heading with link referencing image using aria-labelledby, that in turn references itself and another element via aria-labelledby
  assert_equals: <h3 data-expectedlabel="image link" data-testname="heading with link referencing image using aria-labelledby, that in turn references itself and another element via aria-labelledby" class="ex">\n  <a href="#" aria-labelledby="nested_image_label4">\n    <span class="note" id="crossref_link2">link</span><!-- this text is skipped the first time around because of aria-labelledby on parent element -->\n  </a>\n  <!-- but it's picked up again (after the self-referencial image alt) in inverse order b/c of cross-referencial aria-labelledby edge case -->\n  <img id="nested_image_label4" alt="image" aria-labelledby="nested_image_label4 crossref_link2" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==">\n</h3> expected "image link" but got "image image link"
Harness: the test ran to completion.

